# Что сделано

Реализованы два сервиса, которые общаются между собой по gRPC, соответственно AuthService, содержащий в себе логику по авторизации через refresh/access токены. И сервис NewsService/AdminsService, которые представляют собой gRPC gateway, в тестовую систему, объединены в один, так как у них одна база данных. Также использованы две отдельные базы данных для сервисов

## AuthService

Сервис, реализующий логику авторизации, и доступ к пользователям с пагинацией
Протестировать можно через gRPC в постмане, сгенерировав запрос с тестовыми данными

<ul>
  <li>Используются refresh/access токены</li>
  <li>Есть поддержка обновления токенов</li>
  <li>Поддержка ролей через поле в базе(т.е нет информации о роли в токене)</li>
</ul>

В целом в NestJS приятно делать такие штуки, так как уже есть готовый код и не надо делать велосипед

## NewsService

Сервис, реализующий CRUD с новостями, которые приватные для каждого юзера. С поддержкой двух дополнительных методов, просмотр любого поста и постановка лайка, которые доступны всем пользователям.

<ul>
  <li>Поддежка всех методов задания</li>
  <li>Подсчёт лайков и просмотров</li>
</ul>

## AdminService

Сервис реализующий админку для двух других сервисов, имеют доступ только пользователи с ролью Admin, есть возможность добавить новость и посмотреть пользователей.

## FAQ

A: Почему бы не использовать монорепозиторий NestJS?
<br>
Q: Мне не нравится, как он разворачивается в докере, pnpm workspace значительно удобнее, и занимают даже меньше места

A: Почему без редиса?
<br>
Q: Правильное кэширование долго делать ))

## Запуск

Ставим зависимости

```
pnpm install
```

Запускаем инфраструктуру

```
docker compose -f docker-compose.dev.yml up
```

Запускаем проект

```
pnpm run start:dev
```
